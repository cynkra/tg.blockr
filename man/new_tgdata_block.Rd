% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tgdata-block.R
\name{new_tgdata_block}
\alias{new_tgdata_block}
\title{TG Data block for blockr}
\usage{
new_tgdata_block(
  dataset = character(),
  use_data_lake = TRUE,
  add_labels = TRUE,
  validate = TRUE,
  ...
)
}
\arguments{
\item{dataset}{Character. The ID of the dataset to load. Should be one of the
available dataset IDs (e.g., "abfall_menge_art", "energie_emiss_co2", etc.)}

\item{use_data_lake}{Logical. Whether to load data from the data lake using
tg.plot::get_data() (faster). If FALSE, data is fetched directly from the
internet using tg.data::get_dataset(). Default is TRUE.}

\item{add_labels}{Logical. Whether to add human-readable labels to the data.
Only used when use_data_lake is FALSE. Default is TRUE.}

\item{validate}{Logical. Whether to run validation on the dataset.
Only used when use_data_lake is FALSE. Default is TRUE.}

\item{...}{Additional arguments passed to \code{blockr.core::new_data_block()}}
}
\value{
A blockr data block object that can be used in blockr boards
}
\description{
A data block that provides access to all datasets available in the tg.data
package. Users can select from a dropdown of available datasets and configure
whether to add labels and run validation. Optionally, data can be loaded from
the data lake (faster) using tg.plot::get_data() instead of fetching directly
from the internet via tg.data::get_dataset().
}
\details{
When use_data_lake is TRUE, the block uses tg.plot::get_data() to load
pre-processed parquet files from the data lake. This is significantly faster
than fetching and processing data from the internet. The data lake requires
the GITEA_TOK environment variable to be set.

When use_data_lake is FALSE, the block uses tg.data::get_dataset() to fetch
data directly from the original sources (TG OGD API, Monithur, etc.). This
allows comparing the two data sources and using the add_labels and validate
options.
}
\examples{
\dontrun{
library(blockr.core)
library(tg.blockr)

# Create a block with default settings (uses data lake)
block <- new_tgdata_block()

# Create a block that fetches from internet
block <- new_tgdata_block("energie_emiss_co2", use_data_lake = FALSE)

# Use in a board
blockr.core::serve(new_tgdata_block("abfall_menge_art"))
}

}
